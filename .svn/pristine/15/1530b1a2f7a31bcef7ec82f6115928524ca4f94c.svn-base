cordova.define("org.apache.cordova.file.FileReader",function(e,t,r){function o(e){l.defineGetterSetter(f.prototype,e,function(){return this._realReader[e]||null},function(t){this._realReader[e]=t})}function n(e,t){if(e.readyState==f.LOADING)throw new i(i.INVALID_STATE_ERR);if(e._result=null,e._error=null,e._readyState=f.LOADING,"string"!=typeof t.localURL)return e._localURL="",!0;e._localURL=t.localURL,e.onloadstart&&e.onloadstart(new s("loadstart",{target:e}))}/*
 *
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
*/
var a=e("cordova/exec"),d=e("cordova/modulemapper"),l=e("cordova/utils"),i=(e("./File"),e("./FileError")),s=e("./ProgressEvent"),u=d.getOriginalSymbol(window,"FileReader"),f=function(){this._readyState=0,this._error=null,this._result=null,this._localURL="",this._realReader=u?new u:{}};f.EMPTY=0,f.LOADING=1,f.DONE=2,l.defineGetter(f.prototype,"readyState",function(){return this._localURL?this._readyState:this._realReader.readyState}),l.defineGetter(f.prototype,"error",function(){return this._localURL?this._error:this._realReader.error}),l.defineGetter(f.prototype,"result",function(){return this._localURL?this._result:this._realReader.result}),o("onloadstart"),o("onprogress"),o("onload"),o("onerror"),o("onloadend"),o("onabort"),f.prototype.abort=function(){if(u&&!this._localURL)return this._realReader.abort();this._result=null,this._readyState!=f.DONE&&this._readyState!=f.EMPTY&&(this._readyState=f.DONE,"function"==typeof this.onabort&&this.onabort(new s("abort",{target:this})),"function"==typeof this.onloadend&&this.onloadend(new s("loadend",{target:this})))},f.prototype.readAsText=function(e,t){if(n(this,e))return this._realReader.readAsText(e,t);var r=t||"UTF-8",o=this,d=[this._localURL,r,e.start,e.end];a(function(e){o._readyState!==f.DONE&&(o._readyState=f.DONE,o._result=e,"function"==typeof o.onload&&o.onload(new s("load",{target:o})),"function"==typeof o.onloadend&&o.onloadend(new s("loadend",{target:o})))},function(e){o._readyState!==f.DONE&&(o._readyState=f.DONE,o._result=null,o._error=new i(e),"function"==typeof o.onerror&&o.onerror(new s("error",{target:o})),"function"==typeof o.onloadend&&o.onloadend(new s("loadend",{target:o})))},"File","readAsText",d)},f.prototype.readAsDataURL=function(e){if(n(this,e))return this._realReader.readAsDataURL(e);var t=this,r=[this._localURL,e.start,e.end];a(function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=e,"function"==typeof t.onload&&t.onload(new s("load",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=null,t._error=new i(e),"function"==typeof t.onerror&&t.onerror(new s("error",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},"File","readAsDataURL",r)},f.prototype.readAsBinaryString=function(e){if(n(this,e))return this._realReader.readAsBinaryString(e);var t=this,r=[this._localURL,e.start,e.end];a(function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=e,"function"==typeof t.onload&&t.onload(new s("load",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=null,t._error=new i(e),"function"==typeof t.onerror&&t.onerror(new s("error",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},"File","readAsBinaryString",r)},f.prototype.readAsArrayBuffer=function(e){if(n(this,e))return this._realReader.readAsArrayBuffer(e);var t=this,r=[this._localURL,e.start,e.end];a(function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=e,"function"==typeof t.onload&&t.onload(new s("load",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},function(e){t._readyState!==f.DONE&&(t._readyState=f.DONE,t._result=null,t._error=new i(e),"function"==typeof t.onerror&&t.onerror(new s("error",{target:t})),"function"==typeof t.onloadend&&t.onloadend(new s("loadend",{target:t})))},"File","readAsArrayBuffer",r)},r.exports=f});